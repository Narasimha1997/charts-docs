<%
=begin
apps: elasticsearch
platforms: kubernetes
id: add_nodes
title: Add a new node to the cluster
category: administration
weight: 30
highlight: 30
=end %>

To add new nodes to the cluster, you should provide some parameters to the upgrade command:

* Pass as password the *password* used in the installation time. If you did not provide a password follow the intructions from the NOTES.txt to get the generated password.
* Set the desired number of nodes at *cluster.nodes*.
* Set the number of current nodes at *cluster.update.currentNumberOfNodes*.
* Set to true *cluster.update.addNodes*.

The following will be an example to add one more node:

    $ helm upgrade --timeout 600s <release> --set "password=${ELASTICSEARCH_PASSWORD},cluster.nodes=3,cluster.update.addNodes=true,cluster.update.currentNumberOfNodes=2" <%= variable :repo_name, :platform %>/elasticsearch

Where ELASTICSEARCH_PASSWORD is the password obtained with the command that appears after the first installation of the Helm Chart. The cluster will continue up while restarting pods one by one as the quorum is not lost.
